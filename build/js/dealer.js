define(["table","player","deck","dealer.logic","card","exports"],function(e,t,n,r,i,s){function o(){this.ID=null,this.table=null,this.deck=null,this.active=!1,this.logic=null,this.init=function(e,t){this.ID=e,this.table=t,this.deck=new n.deck,this.deck.init(),this.logic=new r.logic,this.deal()},this.getId=function(){return this.ID},this.getDeck=function(){return this.deck},this.getTable=function(){return this.table},this.getActive=function(){return this.active},this.deal=function(){if(this.active===!0){this.deck.cutDeck();var e=this.table.findPlayersStillPlaying();for(var t=0;t<e.length;t++){var n=this.logic.dealCards(this.deck,2),r=e[t];r.receiveHand(n)}var i=$("#"+this.table.getName()+" .dealer .status");i.append("<div class=event><span>Burn a card!</span></div>"),this.burnCard(),i.append("<div class=event><span>Flop!</span></div>"),this.addOpenCards(3),i.append("<div class=event><span>Burn a card!</span></div>"),this.burnCard(),i.append("<div class=event><span>Turn!</span></div>"),this.addOpenCards(1),i.append("<div class=event><span>Burn a card!</span></div>"),this.burnCard(),i.append("<div class=event><span>River!</span></div>"),this.addOpenCards(1),this.active=!1,this.logic.score(this.table)}},this.burnCard=function(){this.logic.dealCards(this.deck,1)},this.addOpenCards=function(e){var t=this.logic.dealCards(this.deck,e);this.table.addOpenCards(t)},this.pause=function(){this.active=!1},this.resume=function(){this.active=!0,this.deal()},this.goHome=function(){this.deck.putAway()}}s.dealer=o})